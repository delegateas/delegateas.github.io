var Filter;
(function(c){c.equals=function(a,b){return XQC.Comp(a,"eq",b)};c.notEquals=function(a,b){return XQC.Comp(a,"ne",b)};c.greaterThan=function(a,b){return XQC.Comp(a,"gt",b)};c.greaterThanOrEqual=function(a,b){return XQC.Comp(a,"ge",b)};c.lessThan=function(a,b){return XQC.Comp(a,"lt",b)};c.lessThanOrEqual=function(a,b){return XQC.Comp(a,"le",b)};c.and=function(a,b){return XQC.BiFilter(a,"and",b)};c.or=function(a,b){return XQC.BiFilter(a,"or",b)};c.not=function(a){return"not "+a};c.startsWith=function(a,
b){return XQC.DataFunc("startswith",a,b)};c.substringOf=function(a,b){return XQC.DataFunc("substringof",a,b)};c.endsWith=function(a,b){return XQC.DataFunc("endswith",a,b)};c.makeGuid=function(a){return XQC.makeTag("(guid'"+a+"')")}})(Filter||(Filter={}));var XrmQuery;
(function(c){c.retrieveRecord=function(a,b){return new XQC.RetrieveRecord(a,b)};c.retrieveMultipleRecords=function(a){return new XQC.RetrieveMultipleRecords(a)};c.createRecord=function(a,b){return new XQC.CreateRecord(a,b)};c.updateRecord=function(a,b,c){return new XQC.UpdateRecord(a,b,c)};c.deleteRecord=function(a,b){return new XQC.DeleteRecord(a,b)}})(XrmQuery||(XrmQuery={}));var XQC;
(function(c){function a(e){return null==e?"null":"string"===typeof e?"'"+e+"'":e.toString()}function b(e){var d,b;b=e.toString().match(m);d=b[1];b=b[2];d=new RegExp("\\b"+d+"\\.([a-zA-Z_$][0-9a-zA-Z_$]*)(\\.([a-zA-Z_$][0-9a-zA-Z_$]*))?","g");for(var a={},c;null!=(c=d.exec(b));)a[c[1]]||(a[c[1]]=k(c[1])),c[3]&&(a[c[1]][c[3]]=k(c[1]+"/"+c[3]));return e(a)}function k(b){return{__str:b,toString:function(){return this.__str}}}function h(b,d,a){if(!a&&void 0==b.length)throw"Function in '"+d+"' needs to return an array of attributes";
if(a&&void 0==b.__str)throw"Function in '"+d+"' needs to return a single attribute";return b}c.Comp=function(b,d,c){return a(b)+" "+d+" "+a(c)};c.DataFunc=function(b,d,c){return b+"("+a(d)+", "+a(c)+")"};c.BiFilter=function(b,d,a){return"("+b+" "+d+" "+a+")"};var m=/function[^\(]+\(([a-zA-Z0-9_]+)[^\{]+\{([\s\S]*)\}$/;c.makeTag=k;var f=function(){},g=function(){function a(d,c){this.selects=[];this.expands=[];this.logicalName=b(d).toString();this.id=c}a.prototype.select=function(d){this.selects=h(b(d),
"select");return this};a.prototype.expand=function(d){this.expands=h(b(d),"expand");return this};a.prototype.execute=function(d,b){SDK.REST.retrieveRecord(this.id,this.logicalName,this.selects?this.selects.join(","):null,this.expands?this.expands.join(","):null,d,b?b:f)};return a}();c.RetrieveRecord=g;g=function(){function a(d){this.ordering=[];this.topAmount=this.skipAmount=null;this.logicalName=b(d).toString()}a.prototype.select=function(a){this.selects=h(b(a),"select");return this};a.prototype.expand=
function(a){this.expands=h(b(a),"expand");return this};a.prototype.filter=function(a){this.filters=b(a);return this};a.prototype.order=function(a,c){this.ordering.push(h(b(a),"order"+c,!0)+" "+c.toLowerCase());return this};a.prototype.orderAsc=function(a){return this.order(a,"Asc")};a.prototype.orderDesc=function(a){return this.order(a,"Desc")};a.prototype.skip=function(a){this.skipAmount=a;return this};a.prototype.top=function(a){this.topAmount=a;return this};a.prototype.execute=function(a,b,c){SDK.REST.retrieveMultipleRecords(this.logicalName,
this.getOptions(),a,b?b:f,c?c:f)};a.prototype.getOptions=function(){var a=[];this.selects&&a.push("$select="+this.selects.join(","));this.expands&&a.push("$expand="+this.expands.join(","));this.filters&&a.push("$filter="+this.filters);0<this.ordering.length&&a.push("$orderby="+this.ordering.join(","));null!=this.skipAmount&&a.push("$skip="+this.skipAmount);null!=this.topAmount&&a.push("$top="+this.topAmount);return a.join("&")};return a}();c.RetrieveMultipleRecords=g;g=function(){function a(c,l){this.logicalName=
b(c).toString();this.record=l}a.prototype.execute=function(a,b){SDK.REST.createRecord(this.record,this.logicalName,a?a:f,b?b:f)};return a}();c.CreateRecord=g;g=function(){function a(c,l,e){this.logicalName=b(c).toString();this.id=l;this.record=e}a.prototype.execute=function(a,b){SDK.REST.updateRecord(this.id,this.record,this.logicalName,a?a:f,b?b:f)};return a}();c.UpdateRecord=g;g=function(){function a(c,e){this.logicalName=b(c).toString();this.id=e}a.prototype.execute=function(a,b){SDK.REST.deleteRecord(this.id,
this.logicalName,a?a:f,b?b:f)};return a}();c.DeleteRecord=g})(XQC||(XQC={}));
