var $jscomp={scope:{},checkStringArgs:function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""}};
$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,f){if(c){b=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var k=a[f];k in b||(b[k]={});b=b[k]}a=a[a.length-1];f=b[a];c=c(f);c!=f&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(c,b){var a=$jscomp.checkStringArgs(this,c,"startsWith");c+="";for(var k=a.length,d=c.length,g=Math.max(0,Math.min(b|0,a.length)),l=0;l<d&&g<k;)if(a[g++]!=c[l++])return!1;return l>=d}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(c,b){var a=$jscomp.checkStringArgs(this,c,"endsWith");c+="";void 0===b&&(b=a.length);for(var k=Math.max(0,Math.min(b|0,a.length)),d=c.length;0<d&&0<k;)if(a[--k]!=c[--d])return!1;return 0>=d}},"es6-impl","es3");var Filter;
(function(a){a.equals=function(a,b){return XQC.Comp(a,"eq",b)};a.notEquals=function(a,b){return XQC.Comp(a,"ne",b)};a.greaterThan=function(a,b){return XQC.Comp(a,"gt",b)};a.greaterThanOrEqual=function(a,b){return XQC.Comp(a,"ge",b)};a.lessThan=function(a,b){return XQC.Comp(a,"lt",b)};a.lessThanOrEqual=function(a,b){return XQC.Comp(a,"le",b)};a.and=function(a,b){return XQC.BiFilter(a,"and",b)};a.or=function(a,b){return XQC.BiFilter(a,"or",b)};a.not=function(a){return"not "+a};a.ands=function(a){return XQC.NestedFilter(a,
"and")};a.ors=function(a){return XQC.NestedFilter(a,"or")};a.startsWith=function(a,b){return XQC.DataFunc("startswith",a,b)};a.substringOf=function(a,b){return XQC.DataFunc("substringof",a,b)};a.endsWith=function(a,b){return XQC.DataFunc("endswith",a,b)};a.makeGuid=function(a){return XQC.makeTag("(guid'"+a+"')")}})(Filter||(Filter={}));var XrmQuery;
(function(a){a.retrieveRecord=function(a,b){return new XQC.RetrieveRecord(a,b)};a.retrieveMultipleRecords=function(a){return new XQC.RetrieveMultipleRecords(a)};a.createRecord=function(a,b){return new XQC.CreateRecord(a,b)};a.updateRecord=function(a,b,f){return new XQC.UpdateRecord(a,b,f)};a.deleteRecord=function(a,b){return new XQC.DeleteRecord(a,b)}})(XrmQuery||(XrmQuery={}));var XQC;
(function(a){function c(a){return null==a?"null":"string"===typeof a?"'"+a+"'":"[object Date]"===Object.prototype.toString.call(a)?"DateTime'"+a.format("yyyy-MM-ddTHH:mm:ss")+"'":a.toString()}function b(a){var h,b;b=a.toString().match(k);if(!b)throw Error("XrmQuery: Unable to properly parse function: "+a.toString());h=b[1];b=b[2];h=new RegExp("\\b"+h+"\\.([a-zA-Z_$][0-9a-zA-Z_$]*)(\\.([a-zA-Z_$][0-9a-zA-Z_$]*))?","g");for(var l={},c;null!=(c=h.exec(b));)l[c[1]]||(l[c[1]]=f(c[1])),c[3]&&(l[c[1]][c[3]]=
f(c[1]+"/"+c[3]));return a(l)}function f(a){return{__str:a,toString:function(){return this.__str}}}a.Comp=function(a,b,e){return c(a)+" "+b+" "+c(e)};a.DataFunc=function(a,b,e){return a+"("+c(b)+", "+c(e)+")"};a.BiFilter=function(a,b,e){return"("+a+" "+b+" "+e+")"};a.NestedFilter=function(b,h){var e=b.pop();return b.reduceRight(function(b,e){return a.BiFilter(e,h,b)},e)};var k=/function[^\(]*\(([a-zA-Z0-9_]+)[^\{]*\{([\s\S]*)\}$/m;a.makeTag=f;var d=function(){},g=function(){function a(a,e){this.selects=
[];this.expands=[];this.logicalName=b(a).toString();this.id=e}a.prototype.select=function(a){this.selects=this.selects.concat(b(a));return this};a.prototype.expand=function(a,e){var h=b(a).toString();this.expands.push(h);e&&(this.selects=this.selects.concat(b(e).map(function(a){return h+"."+a})));return this};a.prototype.execute=function(a,b){SDK.REST.retrieveRecord(this.id,this.logicalName,0<this.selects.length?this.selects.join(","):null,0<this.expands.length?this.expands.join(","):null,a,b?b:d)};
return a}();a.RetrieveRecord=g;g=function(){function a(a){this.selects=[];this.expands=[];this.ordering=[];this.topAmount=this.skipAmount=null;this.logicalName=b(a).toString()}a.prototype.select=function(a){this.selects=this.selects.concat(b(a));return this};a.prototype.expand=function(a,e){var h=b(a).toString();this.expands.push(h);e&&(this.selects=this.selects.concat(b(e).map(function(a){return h+"/"+a})));return this};a.prototype.filter=function(a){this.filters=b(a);return this};a.prototype.orFilter=
function(a){this.filters?this.filters=Filter.or(this.filters,b(a)):this.filter(a);return this};a.prototype.andFilter=function(a){this.filters?this.filters=Filter.and(this.filters,b(a)):this.filter(a);return this};a.prototype.order=function(a,e){this.ordering.push(b(a)+" "+e);return this};a.prototype.orderAsc=function(a){return this.order(a,"asc")};a.prototype.orderDesc=function(a){return this.order(a,"desc")};a.prototype.skip=function(a){this.skipAmount=a;return this};a.prototype.top=function(a){this.topAmount=
a;return this};a.prototype.execute=function(a,b,c){SDK.REST.retrieveMultipleRecords(this.logicalName,this.getOptionString(),a,b?b:d,c?c:d)};a.prototype.getAll=function(a,b){var c=[];SDK.REST.retrieveMultipleRecords(this.logicalName,this.getOptionString(),function(a){c.push(a)},b?b:d,function(){a([].concat.apply([],c))})};a.prototype.getFirst=function(a,b){this.top(1);this.execute(function(b){return a(0<b.length?b[0]:null)},b,d)};a.prototype.getOptionString=function(){var a=[];0<this.selects.length&&
a.push("$select="+this.selects.join(","));0<this.expands.length&&a.push("$expand="+this.expands.join(","));this.filters&&a.push("$filter="+this.filters);0<this.ordering.length&&a.push("$orderby="+this.ordering.join(","));null!=this.skipAmount&&a.push("$skip="+this.skipAmount);null!=this.topAmount&&a.push("$top="+this.topAmount);return a.join("&")};return a}();a.RetrieveMultipleRecords=g;g=function(){function a(a,c){this.logicalName=b(a).toString();this.record=c}a.prototype.execute=function(a,b){SDK.REST.createRecord(this.record,
this.logicalName,a?a:d,b?b:d)};return a}();a.CreateRecord=g;g=function(){function a(a,c,d){this.logicalName=b(a).toString();this.id=c;this.record=d}a.prototype.execute=function(a,b){SDK.REST.updateRecord(this.id,this.record,this.logicalName,a?a:d,b?b:d)};return a}();a.UpdateRecord=g;g=function(){function a(a,c){this.logicalName=b(a).toString();this.id=c}a.prototype.execute=function(a,b){SDK.REST.deleteRecord(this.id,this.logicalName,a?a:d,b?b:d)};return a}();a.DeleteRecord=g})(XQC||(XQC={}));
