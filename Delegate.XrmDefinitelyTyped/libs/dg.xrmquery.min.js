var Filter;
(function(a){a.equals=function(c,b){return XQC.Comp(c,"eq",b)};a.notEquals=function(c,b){return XQC.Comp(c,"ne",b)};a.greaterThan=function(c,b){return XQC.Comp(c,"gt",b)};a.greaterThanOrEqual=function(c,b){return XQC.Comp(c,"ge",b)};a.lessThan=function(c,b){return XQC.Comp(c,"lt",b)};a.lessThanOrEqual=function(c,b){return XQC.Comp(c,"le",b)};a.and=function(c,b){return XQC.BiFilter(c,"and",b)};a.or=function(c,b){return XQC.BiFilter(c,"or",b)};a.not=function(c){return"not "+c};a.startsWith=function(c,
b){return XQC.DataFunc("startswith",c,b)};a.substringOf=function(c,b){return XQC.DataFunc("substringof",c,b)};a.endsWith=function(c,b){return XQC.DataFunc("endswith",c,b)};a.makeGuid=function(c){return XQC.makeTag("(guid'"+c+"')")}})(Filter||(Filter={}));var XrmQuery;
(function(a){a.retrieveRecord=function(c,b){return new XQC.RetrieveRecord(c,b)};a.retrieveMultipleRecords=function(c){return new XQC.RetrieveMultipleRecords(c)};a.createRecord=function(c,b){return new XQC.CreateRecord(c,b)};a.updateRecord=function(c,b,a){return new XQC.UpdateRecord(c,b,a)};a.deleteRecord=function(c,b){return new XQC.DeleteRecord(c,b)}})(XrmQuery||(XrmQuery={}));var XQC;
(function(a){function c(e){return null==e?"null":"string"===typeof e?"'"+e+"'":"[object Date]"===Object.prototype.toString.call(e)?"DateTime'"+e.format("yyyy-MM-ddTHH:mm:ss")+"'":e.toString()}function b(e){var d,b;b=e.toString().match(k);if(!b)throw Error("XrmQuery: Unable to properly parse function: "+e.toString());d=b[1];b=b[2];d=new RegExp("\\b"+d+"\\.([a-zA-Z_$][0-9a-zA-Z_$]*)(\\.([a-zA-Z_$][0-9a-zA-Z_$]*))?","g");for(var c={},a;null!=(a=d.exec(b));)c[a[1]]||(c[a[1]]=h(a[1])),a[3]&&(c[a[1]][a[3]]=
h(a[1]+"/"+a[3]));return e(c)}function h(b){return{__str:b,toString:function(){return this.__str}}}a.Comp=function(b,d,a){return c(b)+" "+d+" "+c(a)};a.DataFunc=function(b,d,a){return b+"("+c(d)+", "+c(a)+")"};a.BiFilter=function(b,d,a){return"("+b+" "+d+" "+a+")"};var k=/function[^\(]*\(([a-zA-Z0-9_]+)[^\{]*\{([\s\S]*)\}$/m;a.makeTag=h;var f=function(){},g=function(){function a(d,c){this.selects=[];this.expands=[];this.logicalName=b(d).toString();this.id=c}a.prototype.select=function(d){this.selects=
this.selects.concat(b(d));return this};a.prototype.expand=function(d,a){var c=b(d).toString();this.expands.push(c);a&&(this.selects=this.selects.concat(b(a).map(function(d){return c+"."+d})));return this};a.prototype.execute=function(d,b){SDK.REST.retrieveRecord(this.id,this.logicalName,0<this.selects.length?this.selects.join(","):null,0<this.expands.length?this.expands.join(","):null,d,b?b:f)};return a}();a.RetrieveRecord=g;g=function(){function a(d){this.selects=[];this.expands=[];this.ordering=
[];this.topAmount=this.skipAmount=null;this.logicalName=b(d).toString()}a.prototype.select=function(a){this.selects=this.selects.concat(b(a));return this};a.prototype.expand=function(a,c){var e=b(a).toString();this.expands.push(e);c&&(this.selects=this.selects.concat(b(c).map(function(a){return e+"."+a})));return this};a.prototype.filter=function(a){this.filters=b(a);return this};a.prototype.order=function(a,c){this.ordering.push(b(a)+" "+c);return this};a.prototype.orderAsc=function(a){return this.order(a,
"asc")};a.prototype.orderDesc=function(a){return this.order(a,"desc")};a.prototype.skip=function(a){this.skipAmount=a;return this};a.prototype.top=function(a){this.topAmount=a;return this};a.prototype.execute=function(a,b,c){SDK.REST.retrieveMultipleRecords(this.logicalName,this.getOptions(),a,b?b:f,c?c:f)};a.prototype.getOptions=function(){var a=[];0<this.selects.length&&a.push("$select="+this.selects.join(","));0<this.expands.length&&a.push("$expand="+this.expands.join(","));this.filters&&a.push("$filter="+
this.filters);0<this.ordering.length&&a.push("$orderby="+this.ordering.join(","));null!=this.skipAmount&&a.push("$skip="+this.skipAmount);null!=this.topAmount&&a.push("$top="+this.topAmount);return a.join("&")};return a}();a.RetrieveMultipleRecords=g;g=function(){function a(c,e){this.logicalName=b(c).toString();this.record=e}a.prototype.execute=function(a,b){SDK.REST.createRecord(this.record,this.logicalName,a?a:f,b?b:f)};return a}();a.CreateRecord=g;g=function(){function a(c,e,f){this.logicalName=
b(c).toString();this.id=e;this.record=f}a.prototype.execute=function(a,b){SDK.REST.updateRecord(this.id,this.record,this.logicalName,a?a:f,b?b:f)};return a}();a.UpdateRecord=g;g=function(){function a(c,e){this.logicalName=b(c).toString();this.id=e}a.prototype.execute=function(a,b){SDK.REST.deleteRecord(this.id,this.logicalName,a?a:f,b?b:f)};return a}();a.DeleteRecord=g})(XQC||(XQC={}));
