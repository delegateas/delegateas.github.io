<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <link rel="shortcut icon" href="/Delegate.Sandbox/img/favicon.ico" type="image/vnd.microsoft.icon" />

    <title>Delegate.Sandbox
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Delegate.Sandbox is library that provides I/O side-effects safe code by using a sandbox computation expression."/>
    <meta name="author" content="RamÃ³n Soto Mathiesen"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/Delegate.Sandbox/res/style.css" />
    <script type="text/javascript" src="/Delegate.Sandbox/res/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="masthead">
      <a href="http://www.delegate.dk" target="_blank">
        <img alt="Delegate A/S" src="data:image/png;base64,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" />
      </a>
    </div>
    <div class="container">
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Delegate-Sandbox" class="anchor" href="#Delegate-Sandbox">Delegate.Sandbox</a></h1>

<div class="row">
  <div class="span1"></div>
  <div class="span6">
    <div class="well well-small" id="nuget">
      The Delegate.Sandbox library can be
      <a href="https://nuget.org/packages/Delegate.Sandbox">installed from NuGet</a>:
      <pre>PM> Install-Package Delegate.Sandbox</pre>
    </div>
  </div>
  <div class="span1"></div>
</div>

<h2><a name="What-is-it" class="anchor" href="#What-is-it">What is it?</a></h2>

<p>Delegate.Sandbox is library that provides a Computation Expression named 
<code>SandboxBuilder</code>, <code>sandbox{ return 42 }</code>, which ensures that values returned 
from the computation are I/O side-effects safe (<code>IOSafe</code>) and if not, they are 
marked as unsafe (<code>Unsafe</code>) and returning an exception.</p>

<p>The library allows to bind <code>&gt;&gt;=</code> several sandbox computations together in order 
to create side-effect free code and based on the final result, then proceed to 
perform the desired side-effects.</p>

<h2><a name="Examples" class="anchor" href="#Examples">Examples</a></h2>

<p>The following example shows that even though there is a call to <code>printfn</code>, the 
output is not passed to the console and hereby, no side-effect is generated:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="prep">#r</span> <span class="s">&quot;Delegate.Sandbox.dll&quot;</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">System</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 2)" onmouseover="showTip(event, 'fs1', 2)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 3)" onmouseover="showTip(event, 'fs2', 3)" class="i">IO</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs3', 4)" onmouseover="showTip(event, 'fs3', 4)" class="i">Delegate</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="i">Sandbox</span>

<span class="k">let</span> <span class="k">inline</span> (<span class="o">&gt;</span><span class="o">&gt;</span><span class="o">=</span>) <span onmouseout="hideTip(event, 'fs5', 6)" onmouseover="showTip(event, 'fs5', 6)" class="i">m</span> <span onmouseout="hideTip(event, 'fs6', 7)" onmouseover="showTip(event, 'fs6', 7)" class="f">f</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="t">IOEffect</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="f">bind</span> <span onmouseout="hideTip(event, 'fs6', 10)" onmouseover="showTip(event, 'fs6', 10)" class="f">f</span> <span onmouseout="hideTip(event, 'fs5', 11)" onmouseover="showTip(event, 'fs5', 11)" class="i">m</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs9', 12)" onmouseover="showTip(event, 'fs9', 12)" class="f">addition</span> <span onmouseout="hideTip(event, 'fs10', 13)" onmouseover="showTip(event, 'fs10', 13)" class="i">x</span> <span onmouseout="hideTip(event, 'fs11', 14)" onmouseover="showTip(event, 'fs11', 14)" class="i">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 15)" onmouseover="showTip(event, 'fs12', 15)" class="i">sandbox</span>{ <span class="k">return</span> <span onmouseout="hideTip(event, 'fs10', 16)" onmouseover="showTip(event, 'fs10', 16)" class="i">x</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs11', 17)" onmouseover="showTip(event, 'fs11', 17)" class="i">y</span> }
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 18)" onmouseover="showTip(event, 'fs13', 18)" class="f">power2</span> <span onmouseout="hideTip(event, 'fs10', 19)" onmouseover="showTip(event, 'fs10', 19)" class="i">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 20)" onmouseover="showTip(event, 'fs12', 20)" class="i">sandbox</span>{ <span onmouseout="hideTip(event, 'fs14', 21)" onmouseover="showTip(event, 'fs14', 21)" class="f">printfn</span> <span class="s">&quot;Injected side-effect&quot;</span>; <span class="k">return</span> <span onmouseout="hideTip(event, 'fs10', 22)" onmouseover="showTip(event, 'fs10', 22)" class="i">x</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs10', 23)" onmouseover="showTip(event, 'fs10', 23)" class="i">x</span> }
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 24)" onmouseover="showTip(event, 'fs15', 24)" class="i">result</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs9', 25)" onmouseover="showTip(event, 'fs9', 25)" class="f">addition</span> <span class="n">21</span> <span class="n">21</span> <span class="o">&gt;</span><span class="o">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 26)" onmouseover="showTip(event, 'fs13', 26)" class="f">power2</span>

<span onmouseout="hideTip(event, 'fs14', 27)" onmouseover="showTip(event, 'fs14', 27)" class="f">printfn</span> <span class="s">&quot;Sum of x and y, then power2: </span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs15', 28)" onmouseover="showTip(event, 'fs15', 28)" class="i">result</span>
</code></pre></td>
</tr>
</table>

<p>Evaluates to the following output:
<pre>
Sum of x and y and then power2: IOSafe 1764
</pre></p>

<blockquote>
  <p><strong>Remark</strong>: No output is written to the console</p>
</blockquote>

<p>In the next example, we add <code>System.Console.ReadLine()</code> in order to block the
function until somebody presses enter. Additionally, if side-effects were allowed,
the entered input would affect return value of the function:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs16', 29)" onmouseover="showTip(event, 'fs16', 29)" class="i">fooBar</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 30)" onmouseover="showTip(event, 'fs12', 30)" class="i">sandbox</span>{ <span class="k">return</span> <span onmouseout="hideTip(event, 'fs17', 31)" onmouseover="showTip(event, 'fs17', 31)" class="t">Console</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs18', 32)" onmouseover="showTip(event, 'fs18', 32)" class="f">ReadLine</span>() <span class="o">+</span> <span class="s">&quot;FooBar&quot;</span> }

<span onmouseout="hideTip(event, 'fs14', 33)" onmouseover="showTip(event, 'fs14', 33)" class="f">printfn</span> <span class="s">&quot;Prints only &#39;IOSafe FooBar&#39;: </span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs16', 34)" onmouseover="showTip(event, 'fs16', 34)" class="i">fooBar</span>
</code></pre></td>
</tr>
</table>

<p>Evaluates to the following output:
<pre>
Prints only 'IOSafe FooBar': IOSafe FooBar
</pre></p>

<blockquote>
  <p><strong>Remark</strong>: No blocking readline or input from console.</p>
</blockquote>

<p>The next example show how we try to get access to the current file directory,
count the amount of files and add it to the final result. This action will try 
to perform an <code>File IO</code> which is not allowed in the <code>sandbox</code>. Due to this, the
whole function is evaluated to an <code>Unsafe</code> value, which contain the <code>Exception</code> 
thrown at runtime:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs19', 35)" onmouseover="showTip(event, 'fs19', 35)" class="f">addition&#39;</span> <span onmouseout="hideTip(event, 'fs10', 36)" onmouseover="showTip(event, 'fs10', 36)" class="i">x</span> <span onmouseout="hideTip(event, 'fs11', 37)" onmouseover="showTip(event, 'fs11', 37)" class="i">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 38)" onmouseover="showTip(event, 'fs12', 38)" class="i">sandbox</span>{ 
  <span class="k">return</span> (<span onmouseout="hideTip(event, 'fs20', 39)" onmouseover="showTip(event, 'fs20', 39)" class="t">Directory</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs21', 40)" onmouseover="showTip(event, 'fs21', 40)" class="f">EnumerateFiles</span>(<span class="s">&quot;.&quot;</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 41)" onmouseover="showTip(event, 'fs22', 41)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 42)" onmouseover="showTip(event, 'fs23', 42)" class="f">length</span>) <span class="o">+</span> <span onmouseout="hideTip(event, 'fs10', 43)" onmouseover="showTip(event, 'fs10', 43)" class="i">x</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs11', 44)" onmouseover="showTip(event, 'fs11', 44)" class="i">y</span> }

<span onmouseout="hideTip(event, 'fs14', 45)" onmouseover="showTip(event, 'fs14', 45)" class="f">printfn</span> <span class="s">&quot;Sum of x and y, then power2 (with error msg): </span><span class="pf">%A</span><span class="s">&quot;</span> (<span onmouseout="hideTip(event, 'fs19', 46)" onmouseover="showTip(event, 'fs19', 46)" class="f">addition&#39;</span> <span class="n">21</span> <span class="n">21</span> <span class="o">&gt;</span><span class="o">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 47)" onmouseover="showTip(event, 'fs13', 47)" class="f">power2</span>)
</code></pre></td>
</tr>
</table>

<p>Evaluates to the following output:
<pre>
Sum of x and y (with error msg): Unsafe System.Security.SecurityException:
Request for the permission of type 'System.Security.Permissions.FileIOPermission,
mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089' failed.
   at System.Security.CodeAccessSecurityEngine.Check(Object demand, StackCrawlMark&amp; 
   stackMark, Boolean isPermSet)
   at System.Security.CodeAccessPermission.Demand()
   at System.IO.FileSystemEnumerableIterator<code>1..ctor(String path, String originalUserPath, 
   String searchPattern, SearchOption searchOption, SearchResultHandler</code>1 resultHandler, 
   Boolean checkHost)
   at System.IO.Directory.EnumerateFiles(String path)
   at Program.addition'@12-1.Invoke(Unit unitVar)
   at Delegate.Sandbox.GlobalValues.SandboxBuilder.Delay<a href="FSharpFunc`2 f">a</a>
The action that failed was:
Demand
The type of the first permission that failed was:
System.Security.Permissions.FileIOPermission
The first permission that failed was:
<code>&lt;IPermission 
  class="System.Security.Permissions.FileIOPermission, mscorlib, Version=4.0.0.0, 
    Culture=neutral, PublicKeyToken=b77a5c561934e089"
  version="1"
  PathDiscovery="D:\...\."/&gt;</code>
The demand was for:
<code>&lt;IPermission 
  class="System.Security.Permissions.FileIOPermission, mscorlib, Version=4.0.0.0, 
    Culture=neutral, PublicKeyToken=b77a5c561934e089"
  version="1"
  PathDiscovery="D:\...\."/&gt;</code>
The granted set of the failing assembly was:
<code>&lt;PermissionSet 
  class="System.Security.PermissionSet"
  version="1"&gt;
&lt;IPermission 
  class="System.Security.Permissions.SecurityPermission, mscorlib, Version=4.0.0.0, 
    Culture=neutral, PublicKeyToken=b77a5c561934e089"
  version="1"
  Flags="UnmanagedCode, Execution"/&gt;
&lt;/PermissionSet&gt;</code>
The assembly or AppDomain that failed was:
Sandbox, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
The method that caused the failure was:
IOEffect`1 Invoke(Microsoft.FSharp.Core.Unit)
The Zone of the assembly that failed was:
MyComputer
The Url of the assembly that failed was:
file:///D:/.../bin/Release/Sandbox.EXE
</pre></p>

<blockquote>
  <p><strong>Remark</strong>: The computation and bindings works like the <code>Either</code> Monad where 
you either have a value of the type <code>IOSafe</code> or you have an <code>Exception</code> of the
type <code>Unsafe</code>. The main point here is that the I/O side-effect <strong>is NOT performed</strong>
and the computation catches the attempt by tainting the whole expression and 
providing the thrown <code>Exception</code> which can be re-thrown or logged in order to 
revise and fix the code.</p>
</blockquote>

<h2><a name="How-it-works-and-limitations" class="anchor" href="#How-it-works-and-limitations">How it works and limitations</a></h2>

<ul>
<li>A few words on the <code>SandboxBuilder</code> works:
<ul>
<li>The library is built on top of the <a href="https://msdn.microsoft.com/en-us/library/system.appdomain(v=vs.110).aspx">AppDomain Class</a> which 
allows to <a href="https://msdn.microsoft.com/en-us/library/bb763046(v=vs.110).aspx">Run Partially Trusted Code in a Sandbox</a>. The
<code>SandboxBuilder</code> is only allowed to execute code
<code>(SecurityPermissionFlag.Execution)</code>, which is the minimum permission that
can be granted.</li>
<li><code>sandbox</code> is implemented as a computation expression that only implements<br />
<strong>return</strong> (<code>Return : v:'b -&gt; 'b IOEffect</code>), which ensures that values
returning from the computation are of the desired value type, and <strong>delay</strong>
(<code>Delay : f:(unit -&gt; 'a IOEffect) -&gt; 'a IOEffect</code>), which tries to evaluate
the function at the newly created domain (<code>AppDomain</code>) with the minimum
granted permision instead of the executing <code>AppDomain.CurrentDomain</code>.
If the function evaluation is successful then an <code>IOSafe 'a</code> value is returned,
otherwise an <code>Unsafe</code> <code>Exception</code> is returned.</li>
<li>In order to ensure that <code>IOEffect</code> types are only instantiated from inside
the computation expression, a few examples: <code>IOSafe "42"</code> or
<code>IOSafe (fun _ -&gt; Directory.EnumerateFiles(".") |&gt; Seq.length)</code>, we use type
encapsulation and we afterwards expose them with the help of <strong>active patterns</strong>.
For more info on this matter, please see this Gist from <a href="https://gist.github.com/swlaschin/54cfff886669ccab895a">Scott Wlaschin</a>.</li>
<li>To remove <code>System.Console</code> I/O side-effects, we need to execute some 
<code>SecurityPermissionFlag.UnmanagedCode</code> before we instantiate the <code>SandboxBuilder</code>.
This is handled by <code>RemoveConsoleInOutEffects</code>. When the type is instantiated,
the <code>System.Console.SetIn</code>, <code>System.Console.SetOut</code> and <code>System.Console.SetError</code>
are set to <code>Stream.Null</code>. Once this task is performed, the
<code>SecurityPermissionFlag.UnmanagedCode</code> flag is removed in order for the
new <code>AppDomain</code> runs with the minimal permision possible.</li>
<li><p>For more information, please look into the code (about +80 lines) at <a href="https://github.com/delegateas/Delegate.Sandbox">GitHub</a></p></li>
</ul></li>
<li>We describe a few <strong>limitations</strong> we found while we were making the library:
<ul>
<li><strong>No code optmization</strong>: When a project that refers to the library is built in
<code>Release</code> mode, default is set to <code>Optimize code</code>, then it will not work as
some of the code is transformed to use <code>Reflection</code> which is not supported
in the <code>AppDomain</code>.</li>
<li><strong>Unit tests</strong>: As stated before, <code>Reflection</code> is not supported and because NUnit 
uses this approach to execute the test, then it will not work either. This makes
it really difficult to test code, mostly because <code>Unsafe</code> types are
runtime and not compile time.</li>
<li><strong>F# Interactive (fsiAnyCpu.exe)</strong>: As the computation expression is built on 
top of the <code>AppDomain</code>, it will not be possible to use this library in
interactive mode (scripts, ...).</li>
</ul></li>
</ul>

<h2><a name="Contributing-and-copyleft" class="anchor" href="#Contributing-and-copyleft">Contributing and copyleft</a></h2>

<p>The project is hosted on <a href="https://github.com/delegateas/Delegate.Sandbox">GitHub</a> where you can <a href="https://github.com/delegateas/Delegate.Sandbox/issues">report issues</a>, fork 
the project and submit pull requests.</p>

<p>The library is available under an Open Source MIT license, which allows modification and 
redistribution for both commercial and non-commercial purposes. For more information see the 
<a href="https://github.com/delegateas/Delegate.Sandbox/blob/sync/LICENSE.md">License file</a> in the GitHub repository.</p>

<div class="tip" id="fs1">namespace System</div>
<div class="tip" id="fs2">namespace System.IO</div>
<div class="tip" id="fs3">type Delegate =<br />&#160;&#160;member Clone : unit -&gt; obj<br />&#160;&#160;member DynamicInvoke : params args:obj[] -&gt; obj<br />&#160;&#160;member Equals : obj:obj -&gt; bool<br />&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;member GetInvocationList : unit -&gt; Delegate[]<br />&#160;&#160;member GetObjectData : info:SerializationInfo * context:StreamingContext -&gt; unit<br />&#160;&#160;member Method : MethodInfo<br />&#160;&#160;member Target : obj<br />&#160;&#160;static member Combine : params delegates:Delegate[] -&gt; Delegate + 1 overload<br />&#160;&#160;static member CreateDelegate : type:Type * method:MethodInfo -&gt; Delegate + 9 overloads<br />&#160;&#160;...<br /><br />Full name: System.Delegate</div>
<div class="tip" id="fs4">namespace Delegate.Sandbox</div>
<div class="tip" id="fs5">val m : &#39;a IOEffect</div>
<div class="tip" id="fs6">val f : (&#39;a -&gt; &#39;b IOEffect)</div>
<div class="tip" id="fs7">Multiple items<br />module IOEffect<br /><br />from Delegate.Sandbox.GlobalValues<br /><br />--------------------<br />type &#39;a IOEffect =<br />&#160;&#160;private | IOSafe of &#39;a<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| Unsafe of exn<br />&#160;&#160;override ToString : unit -&gt; string<br /><br />Full name: Delegate.Sandbox.GlobalValues.IOEffect&lt;_&gt;</div>
<div class="tip" id="fs8">val bind : f:(&#39;a -&gt; &#39;b IOEffect) -&gt; _arg1:&#39;a IOEffect -&gt; &#39;b IOEffect<br /><br />Full name: Delegate.Sandbox.GlobalValues.IOEffect.bind</div>
<div class="tip" id="fs9">val addition : x:int -&gt; y:int -&gt; int IOEffect<br /><br />Full name: Index.addition</div>
<div class="tip" id="fs10">val x : int</div>
<div class="tip" id="fs11">val y : int</div>
<div class="tip" id="fs12">val sandbox : SandboxBuilder<br /><br />Full name: Delegate.Sandbox.GlobalValues.sandbox</div>
<div class="tip" id="fs13">val power2 : x:int -&gt; int IOEffect<br /><br />Full name: Index.power2</div>
<div class="tip" id="fs14">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.printfn</div>
<div class="tip" id="fs15">val result : int IOEffect<br /><br />Full name: Index.result</div>
<div class="tip" id="fs16">val fooBar : string IOEffect<br /><br />Full name: Index.fooBar</div>
<div class="tip" id="fs17">type Console =<br />&#160;&#160;static member BackgroundColor : ConsoleColor with get, set<br />&#160;&#160;static member Beep : unit -&gt; unit + 1 overload<br />&#160;&#160;static member BufferHeight : int with get, set<br />&#160;&#160;static member BufferWidth : int with get, set<br />&#160;&#160;static member CapsLock : bool<br />&#160;&#160;static member Clear : unit -&gt; unit<br />&#160;&#160;static member CursorLeft : int with get, set<br />&#160;&#160;static member CursorSize : int with get, set<br />&#160;&#160;static member CursorTop : int with get, set<br />&#160;&#160;static member CursorVisible : bool with get, set<br />&#160;&#160;...<br /><br />Full name: System.Console</div>
<div class="tip" id="fs18">Console.ReadLine() : string</div>
<div class="tip" id="fs19">val addition&#39; : x:int -&gt; y:int -&gt; int IOEffect<br /><br />Full name: Index.addition&#39;</div>
<div class="tip" id="fs20">type Directory =<br />&#160;&#160;static member CreateDirectory : path:string -&gt; DirectoryInfo + 1 overload<br />&#160;&#160;static member Delete : path:string -&gt; unit + 1 overload<br />&#160;&#160;static member EnumerateDirectories : path:string -&gt; IEnumerable&lt;string&gt; + 2 overloads<br />&#160;&#160;static member EnumerateFileSystemEntries : path:string -&gt; IEnumerable&lt;string&gt; + 2 overloads<br />&#160;&#160;static member EnumerateFiles : path:string -&gt; IEnumerable&lt;string&gt; + 2 overloads<br />&#160;&#160;static member Exists : path:string -&gt; bool<br />&#160;&#160;static member GetAccessControl : path:string -&gt; DirectorySecurity + 1 overload<br />&#160;&#160;static member GetCreationTime : path:string -&gt; DateTime<br />&#160;&#160;static member GetCreationTimeUtc : path:string -&gt; DateTime<br />&#160;&#160;static member GetCurrentDirectory : unit -&gt; string<br />&#160;&#160;...<br /><br />Full name: System.IO.Directory</div>
<div class="tip" id="fs21">Directory.EnumerateFiles(path: string) : Collections.Generic.IEnumerable&lt;string&gt;<br />Directory.EnumerateFiles(path: string, searchPattern: string) : Collections.Generic.IEnumerable&lt;string&gt;<br />Directory.EnumerateFiles(path: string, searchPattern: string, searchOption: SearchOption) : Collections.Generic.IEnumerable&lt;string&gt;</div>
<div class="tip" id="fs22">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs23">val length : source:seq&lt;&#39;T&gt; -&gt; int<br /><br />Full name: Microsoft.FSharp.Collections.Seq.length</div>

        </div>
        <div class="span3">
          <h4><a href="http://delegateas.github.io/">Go to Delegate @ Github</a></h4>
          <a href="/Delegate.Sandbox/index.html">
            <img src="/Delegate.Sandbox/img/delegate_sandbox_logo.png" style="width:140px;height:140px;margin:10px 0px 0px 25px;border-style:none;" />
          </a>
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">Delegate.Sandbox</li>
            <li><a href="/Delegate.Sandbox/index.html">Home page</a></li>

            <li class="divider"></li>

            <li><a href="http://nuget.org/packages/Delegate.Sandbox">Get Library via NuGet</a></li>
            <li><a href="/Delegate.Sandbox/license.html">License</a></li>
            <li><a href="/Delegate.Sandbox/release-notes.html">Release Notes</a></li>
          </ul>
          
          <div class="credits">
            <hr />
            Made with: <a target="_blank" href="http://tpetricek.github.io/FSharp.Formatting/">FSharp.Formatting</a>
          </div>
        </div>
      </div>
    </div>
    <a href="http://github.com/delegateas/Delegate.Sandbox"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>
  </body>
  </html>
